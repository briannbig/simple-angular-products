<h1>Add A Product</h1>

<form (ngSubmit)="onSubmit()" #productForm="ngForm">
  <table cellspacing="0" cellpadding="10">
    <tr>
      <td><label for="sku">SKU:</label></td>
      <td>
        <input
          type="text"
          name="sku"
          id="sku"
          [(ngModel)]="product.sku"
          required
          minlength="3"
          maxlength="10"
        />
      </td>
    </tr>
    <tr>
      <td colspan="2">
        <div
          *ngIf="
            productForm.controls['sku'].invalid &&
            (productForm.controls['sku'].dirty ||
              productForm.controls['sku'].touched)
          "
          class="error"
        >
          <span *ngIf="productForm.controls['sku'].errors?.['required']"
            >SKU is required.</span
          >
          <span *ngIf="productForm.controls['sku'].errors?.['minlength']"
            >SKU must be at least 3 characters long.</span
          >
          <span *ngIf="productForm.controls['sku'].errors?.['maxlength']"
            >SKU cannot be longer than 10 characters.</span
          >
        </div>
      </td>
    </tr>
    <tr>
      <td><label for="description">Description:</label></td>
      <td>
        <textarea
          name="description"
          id="description"
          [(ngModel)]="product.description"
          required
          minlength="10"
          maxlength="100"
        ></textarea>
      </td>
    </tr>
    <tr>
      <td colspan="2">
        <div
          *ngIf="
            productForm.controls['description'].invalid &&
            (productForm.controls['description'].dirty ||
              productForm.controls['description'].touched)
          "
          class="error"
        >
          <span *ngIf="productForm.controls['description'].errors?.['required']"
            >Description is required.</span
          >
          <span
            *ngIf="productForm.controls['description'].errors?.['minlength']"
            >Description must be at least 10 characters long.</span
          >
          <span
            *ngIf="productForm.controls['description'].errors?.['maxlength']"
            >Description cannot be longer than 100 characters.</span
          >
        </div>
      </td>
    </tr>
    <tr>
      <td><label for="category">Category:</label></td>
      <td>
        <select
          name="category"
          id="category"
          [(ngModel)]="product.category"
          required
        >
          <option value="game">Video Game</option>
          <option value="console">Console</option>
        </select>
      </td>
    </tr>
    <tr>
      <td><label for="price">Price:</label></td>
      <td>
        <input
          type="number"
          name="price"
          id="price"
          [(ngModel)]="product.price"
          required
          min="0.01"
          step="0.01"
        />
      </td>
    </tr>
    <tr>
      <td colspan="2">
        <div
          *ngIf="
            productForm.controls['price'].invalid &&
            (productForm.controls['price'].dirty ||
              productForm.controls['price'].touched)
          "
          class="error"
        >
          <span *ngIf="productForm.controls['price'].errors?.['required']"
            >Price is required.</span
          >
          <span *ngIf="productForm.controls['price'].errors?.['min']"
            >Price must be greater than 0.</span
          >
        </div>
      </td>
    </tr>
    <tr>
      <td colspan="2">
        <input
          type="submit"
          value="Add Product"
          [disabled]="!productForm.valid"
        />
        <input type="reset" value="Reset" />
      </td>
    </tr>
  </table>
  <p><a href="/">Product List</a></p>
</form>
